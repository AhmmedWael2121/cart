import './polyfills.server.mjs';
import{a as V,b as v}from"./chunk-433SH3FB.mjs";import{m as F}from"./chunk-OSJX3P4B.mjs";import{i as R}from"./chunk-JUNOOE3D.mjs";import{Ib as r,Jb as p,Ka as y,Kb as m,Lc as j,Ma as i,R as P,Tb as T,Wa as B,Wb as l,Xb as d,Yb as h,Z as _,_ as b,ab as w,jb as g,ob as I,pb as S,qb as k,rb as a,sb as n,tb as x,xb as E,yb as f,zb as C}from"./chunk-BXWPJ7HK.mjs";import"./chunk-X2SEQXRR.mjs";var A=(o,e)=>e._id,U=o=>["/checkout",o];function $(o,e){if(o&1){let t=E();a(0,"div",3)(1,"div",7),x(2,"img",8),n(),a(3,"div",9)(4,"div",10)(5,"h2",11),r(6),n(),a(7,"p",12)(8,"span",13),r(9),l(10,"translate"),n(),r(11),n(),a(12,"p",14)(13,"span",13),r(14),l(15,"translate"),n(),r(16),l(17,"currency"),n(),a(18,"button",15),f("click",function(){let s=_(t).$implicit,u=C();return b(u.removeCartProduct(s.product._id))}),x(19,"i",16),r(20),l(21,"translate"),n()(),a(22,"div",17)(23,"button",18),f("click",function(){let s=_(t).$implicit,u=C();return b(u.UpdateQty(s.product._id,s.count-1))}),x(24,"i",19),n(),a(25,"p",20),r(26),n(),a(27,"button",18),f("click",function(){let s=_(t).$implicit,u=C();return b(u.UpdateQty(s.product._id,s.count+1))}),x(28,"i",21),n()()()()}if(o&2){let t=e.$implicit;i(2),g("src",t.product.imageCover,y)("alt",t.product.title),i(4),p(t.product.title.split(" ").slice(0,2).join(" ")),i(3),m("",d(10,9,"cart.WomensFashion")," "),i(2),m(" ",t.product.category.name," "),i(3),m("",d(15,11,"cart.Price")," "),i(2),m(" ",h(17,13,t.price,"GBP")," "),i(4),m(" ",d(21,16,"cart.Remove")," "),i(6),p(t.count)}}function O(o,e){if(o&1&&(r(0),l(1,"currency")),o&2){let t=C();m(" ",h(1,1,t.cardProducts.totalCartPrice,"GBP")," ")}}function Q(o,e){o&1&&r(0," \xA300.00 ")}var D=class o{cardProducts={};_cartService=P(V);ngOnInit(){this.getCartProducts()}getCartProducts(){this._cartService.GetCartProducts().subscribe({next:e=>{this.cardProducts=e.data}})}RemoveAllProdducts(){let e=v.mixin({customClass:{confirmButton:"rounded-lg px-3 py-2 bg-green-500 hover:bg-green-700 ",cancelButton:"rounded-lg px-3 py-2 bg-red-500 hover:bg-red-700"},buttonsStyling:!0});this.cardProducts.totalCartPrice&&e.fire({position:"top-right",title:"Are you sure?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then(t=>{t.isConfirmed?(this._cartService.count.next(0),this.cardProducts={},e.fire({title:"Deleted!",text:" deleted successfully!",icon:"success"})):t.dismiss===v.DismissReason.cancel&&e.fire({title:"Cancelled",icon:"error"})})}removeCartProduct(e){this._cartService.RemoveCartProducts(e).subscribe({next:t=>{v.fire({title:"Are you sure?",text:"",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(c=>{c.isConfirmed&&(this.cardProducts=t.data,this._cartService.count.next(t.numOfCartItems),v.fire({title:"Deleted successfully!",icon:"success"}))})}})}UpdateQty(e,t){this._cartService.UpdateCartQty(e,t).subscribe({next:c=>{this.cardProducts=c.data}})}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=B({type:o,selectors:[["app-cart"]],decls:20,vars:17,consts:[[1,"main-sec","p-4"],[1,"btn","flex","items-center","justify-end"],[1,"Remove-btn","bg-red-700","shadow-lg","hover:scale-105","rounded-3xl","px-2","py-1","text-white","font-medium","hover:bg-red-900","transition-all","duration-500","ease-in-out",3,"click"],[1,"main-content","p-4","grid","grid-cols-1","md:grid-cols-[10%_minmax(0,1fr)]","gap-4","border-b-2","border-b-violet-950","rounded-2xl"],[1,"text-center","text-xl","md:text-2xl","font-light","py-4"],[1,"text-violet-900","font-bold"],[1,"cursor-pointer","py-2","btn","w-[20%]","ms-0","hover:text-white","button",3,"disabled","routerLink"],[1,"left-side","m-auto"],[1,"w-full","max-w-[100px]","md:max-w-[150px]","object-contain",3,"src","alt"],[1,"right-side","flex","flex-col","md:flex-row","justify-between","items-center","gap-4","my-4","px-5"],[1,"flex","flex-col","gap-2","items-start","justify-center"],[1,"md:text-2xl","text-xl","font-bold","text-violet-700"],[1,"text-sm","md:text-base"],[1,"font-bold","text-violet-600"],[1,"text-sm","md:text-lg"],[1,"cursor-pointer","text-sm","md:text-lg",3,"click"],[1,"far","fa-trash-alt","text-red-500"],[1,"btns","flex","items-center","gap-3"],[1,"btn","flex","items-center","justify-center","p-2","bg-violet-100","rounded-full","hover:bg-violet-200",3,"click"],[1,"fas","fa-minus","text-xl"],[1,"font-semibold","text-xl"],[1,"fas","fa-plus","text-xl"]],template:function(t,c){t&1&&(a(0,"section")(1,"h1"),r(2),l(3,"translate"),n(),a(4,"div",0)(5,"div",1)(6,"button",2),f("click",function(){return c.RemoveAllProdducts()}),r(7),l(8,"translate"),n()(),S(9,$,29,18,"div",3,A),a(11,"span",4)(12,"span",5),r(13),l(14,"translate"),n(),w(15,O,2,4)(16,Q,1,0),n(),a(17,"button",6),r(18),l(19,"translate"),n()()()),t&2&&(i(2),p(d(3,7,"cart.Cart")),i(5),p(d(8,9,"cart.CleanChart")),i(2),k(c.cardProducts.products),i(4),p(d(14,11,"cart.TotalCartPrice")),i(2),I(c.cardProducts.totalCartPrice>0?15:16),i(2),g("disabled",c.cardProducts.totalCartPrice==0)("routerLink",T(15,U,c.cardProducts._id)),i(),p(d(19,13,"cart.Checkout")))},dependencies:[j,F,R],encapsulation:2})};export{D as CartComponent};
