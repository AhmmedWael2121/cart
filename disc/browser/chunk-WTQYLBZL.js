import{a as D}from"./chunk-LL2ETGPW.js";import{a as P,b as _,c as q,d as A,e as H,f as F,h as Z,i as R,j,m as O}from"./chunk-SFKBTL3D.js";import{h as V,i as k}from"./chunk-2RDFWJ3B.js";import{i as G}from"./chunk-ETDKGUVP.js";import{$ as S,Db as a,Eb as s,Fb as g,Ja as t,Jb as b,Kb as L,Lb as y,R as C,Rb as r,Sb as m,Ta as B,Y as I,Z as T,Za as c,_ as h,eb as w,jb as u,mb as i,nb as n,ob as x,sb as M,tb as N,ub as f,yb as E}from"./chunk-TJAOP4CE.js";import"./chunk-EQDQRRRY.js";function $(e,l){e&1&&(i(0,"li"),a(1),r(2,"translate"),n()),e&2&&(t(),s(m(2,1,"errors.email1")))}function z(e,l){e&1&&(i(0,"li"),a(1),r(2,"translate"),n()),e&2&&(t(),s(m(2,1,"errors.email2")))}function J(e,l){if(e&1&&(i(0,"div",5),h(),i(1,"svg",13),x(2,"path",14),n(),S(),i(3,"span",15),a(4,"Danger"),n(),i(5,"div")(6,"ul",16),c(7,$,3,3,"li")(8,z,3,3,"li"),n()()()),e&2){f();let o=y(6);t(7),u(o!=null&&o.getError("required")?7:o!=null&&o.getError("email")?8:-1)}}function K(e,l){e&1&&(i(0,"li"),a(1),r(2,"translate"),n()),e&2&&(t(),s(m(2,1,"errors.password")))}function Q(e,l){e&1&&(i(0,"li"),a(1),r(2,"translate"),n()),e&2&&(t(),g(" ",m(2,1,"errors.passwordValidation")," "))}function W(e,l){if(e&1&&(i(0,"div",5),h(),i(1,"svg",13),x(2,"path",14),n(),S(),i(3,"span",15),a(4,"Danger"),n(),i(5,"div")(6,"ul",16),c(7,K,3,3,"li")(8,Q,3,3,"li"),n()()()),e&2){f();let o=y(14);t(7),u(o!=null&&o.getError("required")?7:o!=null&&o.getError("pattern")?8:-1)}}function X(e,l){if(e&1&&(i(0,"p",11),a(1),n()),e&2){let o=f();t(),g(" ",o.errorMessage," ")}}function Y(e,l){if(e&1&&(i(0,"p",12),a(1),n()),e&2){let o=f();t(),g(" ",o.success," ")}}var U=class e{errorMessage="";success="";_authService=C(D);_router=C(V);loginForm=new H({email:new F(null,[_.required,_.email]),password:new F(null,[_.required,_.pattern(/^[A-Z]\w{7,}$/)])});submitForm(){this.loginForm.valid&&this._authService.sendLogin(this.loginForm.value).subscribe({next:l=>{l.message==="success"&&(this.success=l.message,setTimeout(()=>{localStorage.setItem("token",l.token),this._authService.getUserData(),this._router.navigate(["/home"])},1500))}})}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=B({type:e,selectors:[["app-login"]],decls:30,vars:30,consts:[[1,"w-2/3","mx-auto"],[1,"main-sec",3,"ngSubmit","formGroup"],[1,"rounded-md","px-5","py-4"],["for","email",1,"label"],["type","email","id","email","formControlName","email",1,"input-field",3,"placeholder"],["role","alert",1,"flex","p-4","mb-4","text-sm","text-red-800","rounded-lg","bg-red-50","dark:bg-gray-800","dark:text-red-400"],["for","password",1,"label"],["type","password","id","password","formControlName","password",1,"input-field",3,"placeholder"],[1,"flex","justify-end","items-center","my-auto","gap-4","px-3"],["routerLink","/forget",1,"link-primary","underline","hover:text-blue-800","hover:font-medium","transition-colors","duration-100","ease-in-out","py-3","mb-6"],["type","submit",1,"rounded-3xl","px-6","text-lg","font-medium","bg-violet-500","hover:bg-violet-700","transition-all","text-white","duration-500","ease-in-out","hover:scale-105","mb-6",3,"disabled"],[1,"error-message"],[1,"success-message"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"shrink-0","inline","w-4","h-4","me-3","mt-[2px]"],["d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"],[1,"sr-only"],[1,"mt-1.5","list-disc","list-inside"]],template:function(o,p){if(o&1){let d=M();i(0,"section",0)(1,"h1"),a(2),r(3,"translate"),n(),i(4,"form",1),N("ngSubmit",function(){return I(d),T(p.submitForm())}),i(5,"div",2),b(6),i(7,"label",3),a(8),r(9,"translate"),n(),x(10,"input",4),r(11,"translate"),c(12,J,9,1,"div",5),n(),i(13,"div",2),b(14),i(15,"label",6),a(16),r(17,"translate"),n(),x(18,"input",7),r(19,"translate"),c(20,W,9,1,"div",5),n(),i(21,"div",8)(22,"a",9),a(23),r(24,"translate"),n(),i(25,"button",10),a(26),r(27,"translate"),n()(),c(28,X,2,1,"p",11)(29,Y,2,1,"p",12),n()()}if(o&2){t(2),g(" ",m(3,14,"login.title")," "),t(2),w("formGroup",p.loginForm),t(2);let d=L(p.loginForm.get("email"));t(2),s(m(9,17,"login.Email")),t(2),E("placeholder"," ",m(11,19,"login.EmailPlaceholder"),""),t(2),u(d!=null&&d.errors&&(d!=null&&d.touched)?12:-1),t(2);let v=L(p.loginForm.get("password"));t(2),s(m(17,22,"login.Password")),t(2),E("placeholder","  ",m(19,24,"login.PasswordPlaceholder"),""),t(2),u(v!=null&&v.errors&&(v!=null&&v.touched)?20:-1),t(3),s(m(24,26,"login.ForgetPassword")),t(2),w("disabled",p.loginForm.invalid),t(),g(" ",m(27,28,"login.LoginButton")," "),t(2),u(p.errorMessage?28:p.success?29:-1)}},dependencies:[O,Z,P,q,A,R,j,k,G],styles:[".errorMessage[_ngcontent-%COMP%]{transition:all .4s ease-in-out}"]})};export{U as LoginComponent};
